<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Spotify Wrapper Test</title>
  <style>
    img {
      max-width: 200px;
      float: left;
    }

  </style>
</head>

<body>
  <div id="albums">Loading...</div>

  <script src="dist/spotify-wrapper.umd.js"></script>

  <script>
    async function App() {

      const spotifyWrapper = await SpotifyWrapper.init({
        clientID: '24db18fe385c4ddfb9eb77bd70816b21',
        clientSecret: '49013f8eddb942499b71c3257d6e177b',
      });

      const albums = spotifyWrapper.search.albums('Post Malone');
      const albumsEl = document.getElementById('albums');

      albums.then(data => {
        if (data.albums) {
          const markup = data.albums.items.map(item =>
            `<img src='${item.images[0].url}' alt='${item.name}' />`
          ).join('');

          albumsEl.innerHTML = markup;
        }
      });

      const filters = {
        locale: 'pt_BR',
        country: 'BR',
      };

      const playlists = spotifyWrapper.browser.featuredPlaylists(filters);

      playlists.then(data => console.log(data))
    }

    App();

  </script>
</body>

</html>
